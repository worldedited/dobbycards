# üìö Telegram Flashcards Bot - TMA Ready

–£–º–Ω—ã–π Telegram –±–æ—Ç –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è –∞–Ω–≥–ª–∏–π—Å–∫–∏—Ö —Å–ª–æ–≤ —Å AI-–ø–µ—Ä–µ–≤–æ–¥–æ–º –∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º–∏ –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ —á–µ—Ä–µ–∑ Telegram Mini App.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —Å–¥–µ–ª–∞–ª–∏)
cd dobbyTma

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏
./start.sh
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–æ–∫–µ–Ω–æ–≤

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `.env`:

```env
# –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –æ—Ç @BotFather
BOT_TOKEN=your_telegram_bot_token_here

# –ü–æ–ª—É—á–∏—Ç–µ –∫–ª—é—á –æ—Ç fireworks.ai
FIREWORKS_API_KEY=your_fireworks_api_key_here

# URL –≤–∞—à–µ–≥–æ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è)
WEB_APP_URL=https://your-webapp-url.com
```

### 3. –î–µ–ø–ª–æ–π Web App

–ó–∞–≥—Ä—É–∑–∏—Ç–µ `web.html` –Ω–∞ –ª—é–±–æ–π —Ö–æ—Å—Ç–∏–Ω–≥:

**GitHub Pages (–±–µ—Å–ø–ª–∞—Ç–Ω–æ):**
1. –°–æ–∑–¥–∞–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub
2. –ó–∞–≥—Ä—É–∑–∏—Ç–µ `web.html` –∫–∞–∫ `index.html`
3. –í–∫–ª—é—á–∏—Ç–µ Pages –≤ Settings ‚Üí Pages
4. URL: `https://username.github.io/repo-name/`

**Vercel (–±–µ—Å–ø–ª–∞—Ç–Ω–æ):**
```bash
npm i -g vercel
vercel --prod web.html
```

**Netlify (–±–µ—Å–ø–ª–∞—Ç–Ω–æ):**
- –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ `web.html` –Ω–∞ netlify.com

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–æ—Ç–∞ –≤ Telegram

1. –û—Ç–∫—Ä–æ–π—Ç–µ @BotFather
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ ‚Üí Bot Settings ‚Üí Menu Button
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Web App URL: `https://your-webapp-url.com`

### 5. –ó–∞–ø—É—Å–∫

```bash
# –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
python bot.py

# –í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ - –∑–∞–ø—É—Å–∫ API —Å–µ—Ä–≤–µ—Ä–∞
python main.py
```

## üì± –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç TMA

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:
- `bot.py` - Telegram –±–æ—Ç —Å –∫–æ–º–∞–Ω–¥–∞–º–∏ –∏ WebApp –∫–Ω–æ–ø–∫–∞–º–∏
- `main.py` - FastAPI —Å–µ—Ä–≤–µ—Ä –¥–ª—è API —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
- `web.html` - Telegram Mini App –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- `models.py` - –ú–æ–¥–µ–ª–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- `.env` - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (—Ç–æ–∫–µ–Ω—ã, –∫–ª—é—á–∏)

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram:
- ‚úÖ Telegram WebApp API
- ‚úÖ MainButton –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–ª–æ–≤
- ‚úÖ –¢–µ–º–∞ Telegram (—Å–≤–µ—Ç–ª–∞—è/—Ç–µ–º–Ω–∞—è)
- ‚úÖ Haptic Feedback
- ‚úÖ Popup —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- ‚úÖ –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ initData

## üéÆ –§—É–Ω–∫—Ü–∏–∏

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
- üìù –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–ª–æ–≤ —á–µ—Ä–µ–∑ –±–æ—Ç–∞ –∏–ª–∏ Mini App
- üéØ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ —Å –∞–Ω–∏–º–∞—Ü–∏—è–º–∏
- üëÜ –°–≤–∞–π–ø—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–≤–ª–µ–≤–æ - –Ω–µ –∑–Ω–∞—é, –≤–ø—Ä–∞–≤–æ - –∑–Ω–∞—é)
- üîä –ü—Ä–æ–∏–∑–Ω–æ—à–µ–Ω–∏–µ —Å–ª–æ–≤ (TTS)
- üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–∑—É—á–µ–Ω–∏—è
- üèÜ –°–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ:
- ü§ñ AI-–ø–µ—Ä–µ–≤–æ–¥ —á–µ—Ä–µ–∑ Fireworks AI
- üíæ SQLite/PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- üöÄ Async/await –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- üì± –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω
- üé® –ê–Ω–∏–º–∞—Ü–∏–∏ –∏ —ç—Ñ—Ñ–µ–∫—Ç—ã

## üîß API Endpoints

```http
GET /api/words/{telegram_id}     # –ü–æ–ª—É—á–∏—Ç—å —Å–ª–æ–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
POST /api/words/{telegram_id}    # –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ —Å–ª–æ–≤–æ
PUT /api/words/update            # –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å —Å–ª–æ–≤–∞
GET /api/stats/{telegram_id}     # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
GET /health                      # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è API
```

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–±–ª–µ–º—ã —Å –∑–∞–ø—É—Å–∫–æ–º:
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ .env —Ñ–∞–π–ª
cat .env

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
python -c "from bot import DatabaseManager; import asyncio; asyncio.run(DatabaseManager('sqlite+aiosqlite:///flashcards.db').init_db())"
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å Web App:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ URL –≤ @BotFather
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `web.html` –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ HTTPS
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)

### –ü—Ä–æ–±–ª–µ–º—ã —Å API:
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API —Å–µ—Ä–≤–µ—Ä
curl http://localhost:8000/health

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
python main.py
```

## üåê –î–µ–ø–ª–æ–π –≤ –ø—Ä–æ–¥–∞–∫—à–Ω

### Railway.app (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):
1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
3. –î–µ–ø–ª–æ–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π

### VPS/–°–µ—Ä–≤–µ—Ä:
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞
git clone your-repo
cd dobbyTma
./start.sh

# –ó–∞–ø—É—Å–∫ —Å PM2
npm install -g pm2
pm2 start bot.py --interpreter python3
pm2 start main.py --interpreter python3
```

## üìù –ß—Ç–æ –¥–∞–ª—å—à–µ?

1. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ç–æ–∫–µ–Ω—ã** –≤ `.env`
2. **–ó–∞–¥–µ–ø–ª–æ–π—Ç–µ web.html** –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥
3. **–û–±–Ω–æ–≤–∏—Ç–µ WEB_APP_URL** –≤ .env –∏ @BotFather
4. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞** –∏ API —Å–µ—Ä–≤–µ—Ä
5. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ** Mini App –≤ Telegram

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Å–µ —Ç–æ–∫–µ–Ω—ã –∏ URL
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ API —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏
4. Web App –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ HTTPS

–£–¥–∞—á–∏ —Å –≤–∞—à–∏–º Telegram Mini App! üöÄ
